name: Test Vault Action
on: workflow_dispatch
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Test Action
        uses: ./
        with:
          vault-url: ${{ vars.VAULT_ADDR }}
          vault-username: ${{ secrets.VAULT_USERNAME }}
          vault-password: ${{ secrets.VAULT_PASSWORD }}
          vault-secret-path: 'secret/data/data/test'
          template-file: 'templates/config.tpl'
          output-file: 'output/config.ini'
        
      - name: Test Action (Credentials)
        uses: ./
        with:
          vault-url: ${{ vars.VAULT_ADDR }}
          vault-username: ${{ secrets.VAULT_USERNAME }}
          vault-password: ${{ secrets.VAULT_PASSWORD }}
          vault-secret-path: 'secret/data/data/test'
          template-file: 'templates/credentials.tpl'
          output-file: 'output/credentials.ini'

